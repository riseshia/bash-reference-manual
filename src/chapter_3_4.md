## 3.4 Shell Parameters
- [Positional Parameters](chapter_3_4_1.html) : 셸의 커맨드 라인 인수.
- [Special Parameters](chapter_3_4_2.html) : 특수 문자를 사용하는 매개변수.

매개변수는 값을 저장하고 있는 어떤 것입니다. 이는 이름, 숫자, 또는 아래에서 볼 수 있는 특별한 문자들 중 하나입니다. 변수는 식별 가능한 이름을 가지고 있는 매개변수입니다. 변수는 값과 0개 이상의 속성을 가집니다. 속성은 `declare` 빌트인 명령어를 통해 대입할 수 있습니다.

매개변수는 값이 대입될 때 설정됩니다. 널 문자열은 유효한 값입니다. 변수가 설정되면 `unset` 빌트인 명령어로만 제거할 수 있습니다.

변수 대입은 다음과 같은 형태의 식으로 이루어집니다.

```sh
name=[value]
```

만약 `value`가 주어지지 않았다면, 변수에는 널 문자열이 대입됩니다. 모든 값 대입에는 물결줄표 전개, 매개변수와 변수 전개, 명령어 치환, 산술 전개, 따옴표 제거가 적용됩니다. 만약 변수가 `integer` 속성을 가지고 있다면, `value`는 `$((...))` 전개를 사용하지 않더라도 산술 표현식으로 처리됩니다. 단어 나누기는 나중에 설명할 "$@"을 제외하고는 발생하지 않습니다. 파일명 전개도 발생하지 않습니다. 대입식은 `alias`, `declare`, `typeset`, `export`, `readonly`, `local` 빌트인 명령어의 인수로도 사용됩니다. POSIX 모드에서는 이러한 빌트인을 하나 이상의 `command` 빌트인으로 사용할 수 있으며, 대입식 사용법은 그대로 유지됩니다.

대입식으로 셸 변수나 배열의 인덱스에 값을 대입하는 상황에서, '+=' 연산자는 값을 추가하거나 변수의 이전 값에 더할 수 있습니다. 이는 `declare`와 같이 인수로 대입식을 받는 경우에도 적용됩니다. `integer` 속성이 적용된 변수에 '+='를 사용하는 경우, `value`는 산술 표현식으로 평가되며 변수의 현재 값에 더해집니다. 복합 대입을 사용해서 배열 변수에 '+=' 연산자를 사용한다면 ('='을 사용했을 때와 마찬가지로) 변수의 값은 제거되지 않으며, (일반적인 배열이라면) 새 값들은 배열의 가장 큰 인덱스값에서 1을 더한 위치부터 삽입되거나, 연상배열이라면 키-값 쌍으로 추가됩니다. 만약 문자열을 가진 변수가 대상이라면, `value`는 전개가 발생하며, 값의 뒷부분에 추가됩니다.

변수에 `declare`나 `local` 빌트인 명령어를 `-n` 옵션과 사용하여 `nameref` 속성을 추가하여 `nameref`, 또는 다른 변수에 대한 참조를 생성할 수 있습니다. 이를 통해 변수를 간접적으로 조작할 수 있습니다. nameref 변수를 참조, 제거, 속성을 수정(nameref 속성 자체를 사용하거나 변경하는 경우를 제외하고)한다면, 그 동작은 nameref 변수의 값에 지정된 변수에 대해서 이루어집니다. nameref는 일반적으로 셸 함수내에서 함수의 인수로 변수의 이름을 넘긴 경우, 이를 참조하기 위해서 사용됩니다. 예를 들어, 셸 함수의 첫번째 인수로 변수명을 넘겼다면, 함수 내부에서

```sh
declare -n ref=$1
```

를 실행하여 함수 내에서 첫번째 인수로 넘긴 변수 이름을 값으로 가지는 `ref`라는 nameref 변수를 생성할 수 있습니다. `ref`에 대한 참조와 대입, 속성에 대한 변경은 모두 `$1`로 넘겨진 값을 이름으로 가지는 변수에 대한 참조, 대입, 속성 변경이 됩니다.

만약 `for` 루프의 제어 변수가 nameref 속성을 가지고 있다면, 단어들의 목록은 셸 변수들의 목록이 될 수 있으며, 루프가 실행되는 동안, 이름 참조는 목록에 있는 각 변수들에 대한 참조를 순차적으로 생성하게 됩니다. 배열 변수는 nameref 속성을 가질 수 없습니다. 하지만, nameref 변수는 배열 변수와 그 요소를 참조할 수 있습니다. nameref 변수는 `unset` 빌트인 명령어와 `-n` 옵션을 사용하는 것으로 제거할 수 있습니다. 만약 `-n` 옵션 없이 `unset`을 실행한다면, nameref 변수가 참조하고 있는 변수가 제거됩니다.
